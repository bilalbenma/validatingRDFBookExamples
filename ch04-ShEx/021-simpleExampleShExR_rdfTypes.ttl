PREFIX sx: <http://shex.io/ns/shex#>
PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>
PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
prefix : <http://example.org/>
prefix schema: <http://schema.org/>

:schema a sx:Schema ;
   sx:shapes :User .

:User a sx:ShapeAnd ;
  sx:shapeExprs (
   [ a sx:NodeConstraint ;
     sx:nodeKind sx:iri 
   ]
   [ a sx:Shape ;
     sx:expression [ a sx:EachOf ;
      sx:expressions (
      [ a sx:TripleConstraint ;
       sx:predicate schema:name ;
       sx:valueExpr [ 
         a sx:NodeConstraint ;
         sx:datatype xsd:string
       ]
      ]
      [ a sx:TripleConstraint ;
       sx:predicate schema:birthDate ;
       sx:valueExpr [ 
         a sx:NodeConstraint ;
         sx:datatype xsd:date
       ] ;
       sx:min 0
      ]
      [ a sx:TripleConstraint ;
       sx:predicate schema:gender ;
       sx:valueExpr [ 
         a sx:NodeConstraint ;
         sx:values ( schema:Male schema:Female )
       ]
      ]
    )
    ] 
   ]
  ).
